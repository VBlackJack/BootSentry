<UserControl x:Class="BootSentry.UI.Controls.ToastNotification"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:res="clr-namespace:BootSentry.UI.Resources"
             x:Name="ToastControl">
    <UserControl.Resources>
        <Storyboard x:Key="ShowAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.3"/>
            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="0,20,0,0" To="0,0,0,0" Duration="0:0:0.3">
                <ThicknessAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseOut"/>
                </ThicknessAnimation.EasingFunction>
            </ThicknessAnimation>
        </Storyboard>
        <Storyboard x:Key="HideAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0" Duration="0:0:0.2"/>
            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="0,0,0,0" To="0,-20,0,0" Duration="0:0:0.2">
                <ThicknessAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseIn"/>
                </ThicknessAnimation.EasingFunction>
            </ThicknessAnimation>
        </Storyboard>
    </UserControl.Resources>

    <Border x:Name="ToastBorder"
            Background="{DynamicResource PanelBackground}"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="1"
            CornerRadius="6"
            Padding="16,12"
            Margin="8"
            MaxWidth="400"
            HorizontalAlignment="Center"
            Effect="{x:Null}">
        <Border.Style>
            <Style TargetType="Border">
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.3" Direction="270"/>
                    </Setter.Value>
                </Setter>
            </Style>
        </Border.Style>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Icon -->
            <TextBlock x:Name="IconText" Grid.Column="0"
                       FontFamily="Segoe MDL2 Assets" FontSize="18"
                       VerticalAlignment="Center" Margin="0,0,12,0"/>

            <!-- Message -->
            <TextBlock x:Name="MessageText" Grid.Column="1"
                       Text="{Binding Message, ElementName=ToastControl}"
                       Foreground="{DynamicResource WindowForeground}"
                       VerticalAlignment="Center"
                       TextWrapping="Wrap"/>

            <!-- Close Button -->
            <Button Grid.Column="2"
                    Content="&#xE711;"
                    FontFamily="Segoe MDL2 Assets"
                    Background="Transparent"
                    BorderThickness="0"
                    Foreground="{DynamicResource DisabledForeground}"
                    Padding="4"
                    Margin="8,0,0,0"
                    Cursor="Hand"
                    Click="CloseButton_Click"
                    ToolTip="{res:Localize Close}"/>
        </Grid>
    </Border>
</UserControl>
